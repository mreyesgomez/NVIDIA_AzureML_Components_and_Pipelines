$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: tao_detectnet_v2_inference
display_name: tao_detectnet_v2_inference
version: 1
type: command
inputs:
  data_dir:
    type: uri_folder
  input_subfolder:
    type: string
    default: /testing/image_2  
  model_dir:
    type: uri_folder
  original_specs:
    type: uri_folder
  specs_file:
    type: string
    default: detectnet_v2_inference_kitti_tlt.txt
  key:
    type: string
    default: tlt_encode 
  output_subfolder:
    type: string
    default: tlt_infer_testing
outputs:
  results_dir:
    type: uri_folder
code: ./
environment: azureml:nvidia_tao_tfv3_22_05_tf1_15_4:1
command: >-
  bash ./update_and_inference.sh ${{inputs.original_specs}} ${{inputs.specs_file}} ${{inputs.data_dir}} ${{inputs.input_subfolder}} ${{inputs.model_dir}} ${{inputs.key}} ${{inputs.output_subfolder}} ${{outputs.results_dir}}

